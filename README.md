# Data Harmonisation for EEG Foundational Model Using Correlation-based Channel Reordering

This repository contains code and results for analyzing EEG session correlations to explore whether it can be used to automatically recover a consistent channel order when the true order is unknown.

## Folder Structure

- **Final Report**: All scripts used to process EEG data, compute correlations, detect bad channels, and generate visualizations.
- **Rest of the Folders**: Figures and images generated by the analysis:
  - **Comparing_matrix_similarity_among_within_experiment_sessions**: Heatmaps showing within-experiment correlation between sessions to evaluate how similar are the inter-channel correlation matrices among sessions within a experiment.
  - **data_analysis_info**: Stores CSV summaries and images for each experiment.
    - **CSV files**: Each file contains detailed information per EEG stream, including:
      - Subject and experiment folder names
      - Number of XDF files
      - Stream information
      - Number of EEG streams
      - Output messages and any processing errors
    - **images**: Combined correlation matrix heatmaps for each experiment, showing correlations between EEG channels across sessions.
  - **images_reordered** : Heatmaps of correlation matrices after reordering sessions to correct known order.
  - **images_unknown_order_dataset/**: Contains results from correlation-based channel reordering (after applying the permutation that gives maximum correlation) to the unknown order dataset .
    - **Comparison heatmaps**: For each experiment and EEG stream, three heatmaps are saved in a single figure:
      1. Reference correlation matrix
      2. Original test correlation matrix (before reordering)
      3. Reordered correlation matrix (after permutation)
    - **CSV summary**: `unknown_dataset_reordering_correlation_value_summary.csv` contains:
      - Experiment and file names
      - EEG stream names
      - Permutation applied
      - Correlation before and after reordering
      - Boolean indicating whether reordering was necessary
  - **results_known_order**: Contains results from correlation-based channel reordering to known order dataset
  - **stream_info_summary.csv**: Summary of all EEG/XDF streams in both datasets (`known_order` and `unknown_order`).
  - **xdf_files_summary_new.csv**: Summary of EEG streams with calculated durations. 
    
